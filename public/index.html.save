<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pinakothek</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>

<body>
 <div class="form-wrapper">
 <div class="contenedor">
 <header class="header">
    <div class="header-title">
	<img src="/60logosuizo.png" alt="Logo Generaciones CSM" style="max-width: 200px; height: auto; margin-bottom: 10px;">
    </div>
  </header>   
  <hr class="separador">
    <h1>Registro y envío de fotos</h1>
    <form id="formulario">
      <label for="email">Ingresa tu e-mail:</label>
      <input type="email" id="email" name="email" placeholder="ejemplo@correo.com" required>
 
 <label for="grupoUnified">Selecciona grupo:</label>
<select id="grupoUnified" name="grupo" required>
  <option value="" disabled selected>Elige una opción</option>
  <optgroup label="Generaciones">
    <!-- Solo unos ejemplos, puedes generar más con JS -->
    <option value="gen:1965">Generación 1965</option>
    <option value="gen:1966">Generación 1966</option>
    <option value="gen:2027">Generación 2027</option>
    <option value="gen:2041">Generación 2041</option>
  </optgroup>
  <optgroup label="Grupos especiales">
    <option value="grupo:maestros">Maestros</option>
    <option value="grupo:administracion">Administración</option>
    <option value="grupo:mantenimiento">Mantenimiento</option>
    <option value="grupo:extraescolares">Grupos extraescolares</option>
  </optgroup>
</select>
  

    <button type="submit" id="verBtn">Ver</button>
    </form>
  </div>
<script>
    function mostrarCampo() {
      const seleccion = document.querySelector('input[name="grupo"]:checked');
      const campoGen = document.getElementById('campoGeneracion');
      const campoGrupo = document.getElementById('campoGrupo');

   	campoGen.classList.toggle('oculto', !(seleccion && seleccion.value === 'generacion'));
  	campoGrupo.classList.toggle('oculto', !(seleccion && seleccion.value === 'especial'));
    }

    document.getElementById('formulario').addEventListener('submit', function(event) {
      event.preventDefault();

      const email = document.getElementById('email').value.trim();
      const grupoSeleccionado = document.querySelector('input[name="grupo"]:checked');
      const generacion = document.getElementById('generacion').value.trim();
      const grupoEspecial = document.getElementById('grupoSelect').value;

      if (!email || !grupoSeleccionado) {
        alert('Por favor completa todos los campos obligatorios.');
        return;
      }

      if (grupoSeleccionado.value === 'generacion') {
        if (!generacion || generacion < 1965 || generacion > 2041) {
          alert('Ingresa un año de generación válido entre 1965 y 2041.');
          return;
        }
        window.open(`selector.html?gen=${encodeURIComponent(generacion)}&email=${encodeURIComponent(email)}`, '_blank');
      } else if (grupoSeleccionado.value === 'especial') {
        if (!grupoEspecial) {
          alert('Selecciona un grupo especial válido.');
          return;
        }
        window.open(`selector.html?grupo=${encodeURIComponent(grupoEspecial)}&email=${encodeURIComponent(email)}`, '_blank');
      }
    });

  </script>
	<canvas id="swisscross"></canvas>
  	<script src="main.js"></script>
</body>
</html>
